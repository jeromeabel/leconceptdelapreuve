---
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';
import SEO from '../components/SEO.astro';
import '../styles/global.css';
import { layoutTokens } from '../utils/layoutTokens';

export interface Props {
	title?: string;
	description?: string;
	image?: { src: string; width?: number; height?: number };
	type?: 'website' | 'article';
	publishedDate?: Date;
	currentSlug?: string;
}

const { title, description, image, type, publishedDate, currentSlug } = Astro.props;
const layoutStyle = `--page-max: ${layoutTokens.pageMaxRem}rem; --page-pad: ${layoutTokens.pagePadRem}rem; --comic-gap: ${layoutTokens.comicGapRem}rem; --comic-margin: ${layoutTokens.comicMarginRem}rem;`;
---

<!doctype html>
<html lang="fr">
	<head>
		<SEO
			title={title}
			description={description}
			image={image}
			type={type}
			publishedDate={publishedDate}
		/>
	</head>
	<body class="min-h-screen bg-[#fdfdfd] text-zinc-900 font-sans">
		<div class="page-shell flex min-h-screen flex-col" style={layoutStyle}>
			<Header currentSlug={currentSlug} />
			<main class="flex-1">
				<slot />
			</main>
			<Footer />
		</div>
	</body>
	<script>
		import { initFadeInImages } from "@scripts/animations";
		initFadeInImages();
	</script>
</html>
