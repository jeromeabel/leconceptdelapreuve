---
import { Picture } from 'astro:assets';
import type { ImageMetadata } from 'astro';

interface Props {
	src: ImageMetadata;
	alt: string;
	index: number;
	class?: string;
}

const { src, alt, index, class: className } = Astro.props;
const isFirst = index === 0;
---

<Picture
	src={src}
	formats={['avif', 'webp']}
	widths={[620, 1240, 1280]}
	sizes="(min-width: 768px) 620px, calc(100vw - 2rem)"
	alt={alt}
	loading={isFirst ? 'eager' : 'lazy'}
	fetchpriority={isFirst ? 'high' : undefined}
	data-fade-in
	style="opacity: 0"
	class:list={['w-full h-auto outline outline-zinc-700', className]}
/>
