---
import { Icon } from 'astro-icon/components';
import ShareActions from './ShareActions.astro';
import VoteButton from './VoteButton.astro';

interface Props {
	date: Date;
	slug: string;
	title: string;
	url?: string;
}

const { date, slug, title, url } = Astro.props;
const formattedDate = date.toLocaleDateString('fr-FR', {
	year: 'numeric',
	month: '2-digit',
	day: '2-digit',
});
---

<div class="flex flex-wrap items-center gap-4 pt-2 text-sm text-zinc-600 justify-end">
	<time datetime={date.toISOString()}>{formattedDate}</time>

	<span class="text-zinc-300" aria-hidden="true">|</span>

	<VoteButton slug={slug} />

	<span class="text-zinc-300" aria-hidden="true">|</span>

	<ShareActions slug={slug} title={title} url={url} />

	<a
		href={`/${slug}`}
		class="no-underline inline-flex items-center justify-center p-2 text-zinc-600 hover:text-zinc-900 transition-colors"
		aria-label="Permalien"
		data-umami-event="click-permalink"
		data-umami-event-comic={slug}
	>
		<Icon name="carbon:link" class="size-4" aria-hidden="true" />
	</a>
</div>
