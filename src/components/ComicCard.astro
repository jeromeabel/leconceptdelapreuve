---
import type { CollectionEntry } from 'astro:content';
import MetaBar from './MetaBar.astro';
import ComicImage from './ComicImage.astro';

interface Props {
	comic: CollectionEntry<'comics'>;
	eager?: boolean;
}

const { comic, eager = false } = Astro.props;
---

<!-- px-8 / md:px-12 / border must match layoutTokens cardPad*Rem and cardBorderPx -->
<article class="px-8 pt-8 pb-2 md:px-12 md:pt-12 md:pb-8 border border-zinc-200 shadow-xl">
	<div class="comic-grid grid grid-cols-1 md:grid-cols-2">
		{comic.data.pages.map((page, i) => (
			<ComicImage
				src={page}
				alt={`${comic.data.alt} â€” page ${i + 1}`}
				eager={eager}
			/>
		))}
	</div>
	<MetaBar
		date={comic.data.date}
		slug={comic.id}
		title={comic.data.title}
	/>
</article>
